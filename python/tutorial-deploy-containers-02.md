---
title: Руководство. Развертывание образа контейнера в Службе приложений Azure с помощью Visual Studio Code
description: Шаг руководства 2. Развертывание реального образа Docker в Службе приложений Azure из реестра контейнеров
ms.topic: conceptual
ms.date: 09/12/2019
ms.custom: seo-python-october2019
ms.openlocfilehash: 446653a4de98954ae75caa38c9cb2ae04ec071c4
ms.sourcegitcommit: 6fa28ea675ae17ffb9ac825415e2e26a3dfe7107
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/04/2020
ms.locfileid: "77002376"
---
# <a name="tutorial-deploy-a-container-image-to-azure-app-service"></a>Руководство. Развертывание образа контейнера в Службе приложений Azure

[Предыдущий шаг: предварительные требования](tutorial-deploy-containers-01.md)

Когда образ контейнера будет помещен в реестр, вы сможете легко настроить Службу приложений Azure, в которой выполняется контейнер, с помощью расширения Docker для VS Code.

1. В обозревателе **Docker** разверните раздел **Registries** (Реестры), затем узел нужного реестра (например, **Azure**) и в нем узел с именем образа, где вы найдете образ с тегом `:latest`.

    ![Поиск образа в обозревателе Docker](media/deploy-containers/find-image-to-deploy-in-docker-explorer.png)

1. Щелкните тег правой кнопкой мыши и выберите **Deploy Image to Azure App Service** (Развернуть образ в Службе приложений Azure).

    ![Пункт меню "Развернуть образ в Службе приложений Azure"](media/deploy-containers/deploy-image-to-azure-app-service-with-docker-explorer.png)

1. Следуйте инструкциям на экране, чтобы выбрать подписку Azure, выбрать или указать группу ресурсов, указать регион, настроить план службы приложений (самый бюджетный из них — B1) и указать имя сайта. Этот процесс демонстрируется в следующей анимации.

    ![Создание и развертывание образа в Службе приложений Azure](media/deploy-containers/deploy-image-to-azure-app-service.gif)

    **Группа ресурсов** — это именованная коллекция разных ресурсов, которые составляют приложение. Включив все ресурсы приложения в одну группу, вы сможете легко управлять этими ресурсами как единым целым. (См. сведения об [Azure Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview) в документации по Azure.)

    **План службы приложений** определяет физические ресурсы (базовую виртуальную машину), в которых размещается запущенный контейнер. Для этого руководства используется план B1 — самый бюджетный план из тех, которые поддерживают контейнеры Docker. (См. сведения в [описании плана службы приложений](https://docs.microsoft.com/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview) в документации по Azure.)

    Имя Службы приложений должно быть уникальным для всей платформы Azure, поэтому обычно оно включает название компании или личное имя. Для рабочих сайтов Служба приложений обычно настраивается с отдельно зарегистрированным доменным именем.

1. Создание Службы приложений занимает несколько минут, а за выполнением этого процесса можно следить на панели вывода VS Code.

1. По завершении **необходимо** добавить в Службу приложений параметр с именем `WEBSITES_PORT`, который будет обозначать прослушиваемый контейнером порт. (Например, если вы используете образ из [руководства по созданию контейнера Python в VS Code](https://code.visualstudio.com/docs/python/tutorial-create-containers), это будет порт 5000 для Flask и 8000 для Django.) Чтобы настроить `WEBSITES_PORT`, переключитесь в обозреватель **Azure: Служба приложений**, разверните узел новой Службы приложений (если он еще не появился, обновите отображение), щелкните правой кнопкой мыши **Параметры приложения** и выберите **Добавить новый параметр**. Когда будет предложено, введите имя ключа `WEBSITES_PORT` и значение, соответствующее номеру порта.

    ![Добавление нового параметра в Службу приложений для определения порта](media/deploy-containers/add-new-setting-in-app-service-settings-explorer.png)

1. Служба приложений автоматически перезапускается при изменении параметров. Можно также в любое время щелкнуть Службу приложений правой кнопкой мыши и выбрать действие **Перезапустить**.

1. После перезапуска службы откройте в браузере адрес `http://<name>.azurewebsites.net`. Можно также щелкнуть URL-адрес на панели вывода левой кнопкой мыши при нажатой клавише **CTRL** (**CMD** в macOS) или щелкнуть правой кнопкой мыши Службу приложений в обозревателе **Azure: Служба приложений** и выбрать команду **Просмотреть веб-сайт**.

> [!div class="nextstepaction"]
> [Образ развернут](tutorial-deploy-containers-03.md)

[У меня есть проблема](https://www.research.net/r/PWZWZ52?tutorial=vscode-appservice-containers&step=02-deploy-container)
