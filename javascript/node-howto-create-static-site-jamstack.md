---
title: Создание статических веб-сайтов в Azure с помощью Node.js, API и разметки
description: Как использовать Azure для создания приложения JAMstack (JavaScript, API и разметка)
ms.topic: article
ms.date: 08/20/2019
ms.custom: seo-javascript-september2019
ms.openlocfilehash: 6c804185859611f4534d5fa4e62b8e2585d14aa5
ms.sourcegitcommit: be67ceba91727da014879d16bbbbc19756ee22e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/05/2020
ms.locfileid: "74467241"
---
# <a name="build-jamstack-static-site-web-apps-on-azure-with-nodejs"></a>Создание веб-приложений JAMstack (статический сайт) в Azure с помощью Node.js

Хорошие веб-приложения могут быть построены и поддерживаться с помощью комбинации внешнего интерфейса *JavaScript*, *API* (сторонних или пользовательских API, созданных в виде бессерверного кода) и шаблонной *разметки* (HTML и CSS), которые служат статическими страницами. С помощью этой комбинации, также известной как JAMstack, можно избежать написания сложного кода серверной части для обслуживания веб-страниц. Вместо этого система обслуживает только статические страницы (HTML, CSS и JavaScript), где эти страницы вызывают интерфейсы API для работы на стороне сервера. Поскольку вы можете писать эти API с автоматическим масштабированием бессерверных технологий, вы полностью избегаете проблем использования типичных постоянно работающих серверов или веб-хостов, связанных с затратами и безопасностью. (Дополнительные сведения см. в разделе [jamstack.org](https://jamstack.org/).)

Для реализации статического сайта или сайта JAMstack в Azure используются разнообразные средства и службы:

- При необходимости настройте базу данных.
- Внедрите бессерверный код API в Функции Azure. Эти API обычно используют базу данных.
- Выберите библиотеки, необходимые для разработки внешнего интерфейса, например Angular. Затем вы передаете эти статические файлы HTML, CSS и JavaScript в хранилище BLOB-объектов Azure, которое предоставляет встроенный веб-сервер.
- Создайте обратный прокси-сервер, чтобы весь трафик прошел через один домен URL-адреса.

Вы можете посмотреть демонстрацию процесса с помощью сеанса //build 2019, [Productive front-end development with JavaScript, Visual Studio Code, and Azure](https://mybuild.techcommunity.microsoft.com/sessions/77038?source=sessions#top-anchor) (Продуктивная внешняя разработка с использованием JavaScript, кода Visual Studio и Azure).

> [!VIDEO https://medius.studios.ms/Embed/Video-nc/B19-BRK3021?latestplayer=true]

Пошаговое руководство можно найти на странице [Развертывание статического веб-сайта в Azure](tutorial-vscode-static-website-node-01.md).

В следующих статьях также описаны дополнительные сведения:

- **Базы данных**: вы можете использовать любую базу данных, например различные службы баз данных в Azure, описанные в статье [Интеграция базы данных Azure в приложения Node.js](node-howto-integrate-databases.md).
  
- **Бессерверные API**:

  - Начните с [создания функции в Azure с помощью Visual Studio Code](tutorial-vscode-serverless-node-01.md), где вы ознакомитесь с Функциями Azure в контексте Visual Studio Code, что упрощает многие детали.
  - По завершении работы с этой статьей вы получите проект Функций Azure (папка), который содержит подпапку, с именем для функции, которое совпадает с конечной точкой HTTP. Эта папка функции содержит файл *index.js* с кодом.
  - Эту функцию можно изменить по мере необходимости, добавить в проект дополнительные функции, а затем повторно развернуть их в Azure, где они являются общедоступными.
  - Дополнительные ресурсы по разработке бессерверных приложений см. в статье [Как записывать бессерверный код Node.js в Azure](node-howto-write-serverless-code.md)

- **Развертывание внешнего интерфейса в службе хранилища Azure**: с помощью API-интерфейсов теперь можно написать код серверной части для использования этих API-интерфейсов, используя любую платформу. Когда вы будете готовы, следуйте указаниям в этой статье, [Учебник: Размещение статического веб-сайта в хранилище BLOB-объектов](/azure/storage/blobs/storage-blob-static-website-host), чтобы передать эти файлы в Azure и включить размещение статических веб-сайтов.

- **Создание обратного прокси-сервера**: Обратный прокси-сервер, как описано в разделе [Работа с функцией "Прокси-серверы Функций Azure"](/azure/azure-functions/functions-proxies), позволяет легко перенаправлять определенные запросы на разные URL-адреса. В этом случае необходимо направить запросы к файлам переднего плана в URL-адрес службы хранилища Azure, где развернуты эти файлы, а запросы API на URL-адрес функций Azure.

  - Чтобы создать эти прокси, отредактируйте файл *proxies.json* в своем проекте функций так, чтобы он выглядел как показано ниже, заменив ваши URL-адреса для `<storage_url>` и `<api_url>`:
  
    ```json
    {
      "$schema": "http://json.schemastore.org/proxies",
      "proxies": {
        "Static frontend on Azure Storage": {
          "matchCondition": {
            "route": "/{*restOfPath}"
          },
          "backendUri": "<storage_url>/{restOfPath}"
        },
        "Azure Functions API": {
          "matchCondition": {
            "route": "/api/{*restOfPath}"
          },
          "backendUri": "<api_url>/api/{restOfPath}"
        }
      }
    }
    ```
