---
title: Развертывание приложений в Службе приложений Azure с помощью Visual Studio Code
description: Руководство, часть 3. Развертывание веб-сайта
ms.topic: conceptual
ms.date: 03/04/2020
ms.custom: devx-track-javascript
ms.openlocfilehash: 5d812f9aa6efb308cafcb5d3e3ccb1ce852e93f1
ms.sourcegitcommit: 815cf2acff71e849735f7afce54723f03ffa5df3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88501509"
---
# <a name="deploy-the-app-to-azure"></a>Развертывание приложения в Azure

[Предыдущий шаг. Создание приложения](tutorial-vscode-azure-app-service-node-02.md)

В этом разделе описано, как развернуть приложение Node.js в Azure с помощью Git, VS Code и расширения Службы приложений Azure. Чтобы выполнить эту задачу, нужно инициализировать локальный репозиторий Git, создать веб-приложение в Azure, а затем настроить VS Code для развертывания через Git.

1. В окне терминала перейдите к папке *expressApp1*, а затем запустите Visual Studio Code с помощью следующей команды:

    ```bash
    code .
    ```

1. В VS Code выберите значок системы управления версиями, чтобы открыть обозреватель **системы управления версиями**, а затем щелкните **+** , чтобы инициализировать локальный репозиторий Git.

    ![Инициализация репозитория Git](media/deploy-azure/git-init.png)

1. Когда будет предложено, выберите *expressApp1* в качестве папки рабочей области.

1. После инициализации репозитория введите сообщение Initial commit (Начальная фиксация) и установите флажок, чтобы создать исходную фиксацию исходных файлов.

    ![Выполнение исходной фиксации в репозиторий](media/deploy-azure/initial-commit.png)

1. В палитре команд (**CTRL**+**SHIFT**+**P**) введите create web и выберите **Служба приложений Azure: Создание нового веб-приложения > Дополнительно**. Используйте команду advanced для полного управления развертыванием, в том числе группой ресурсов, планом Службы приложений и операционной системой, чтобы не использовать значения по умолчанию для Linux.

1. Ответьте на запросы следующим образом:

    - Выберите учетную запись своей **подписки**.
    - В поле **Введите глобально уникальное имя** введите уникальное имя в пределах среды Azure. Используйте только буквенно-цифровые символы (A–Z, a–z и 0–9) и дефисы (-).
    - Выберите **Создать группу ресурсов** и укажите имя, например `AppServiceTutorial-rg`.
    - Выберите операционную систему (Windows или Linux).
    - Для Linux выберите версию Node.js. Для Windows вы укажете версию позже с помощью параметра приложения.
    - Выберите **Создать новый план служб приложений**, укажите имя (например, `AppServiceTutorial-plan`) и выберите ценовую категорию **F1 Free** (Бесплатный F1).
    - Выберите **Пропустить** для ресурса Application Insights.
    - Выберите ближайшее расположение.

1. Через некоторое время в VS Code появится уведомление о завершении создания. Закройте уведомление с помощью кнопки **X**.

    ![Уведомление о завершении создания веб-приложения](media/deploy-azure/creation-complete.png)

1. Когда вы создадите веб-приложение, разверните в VS Code код из локального репозитория Git. Щелкните значок Azure, чтобы открыть обозреватель **службы приложений Azure**, разверните узел подписки, щелкните правой кнопкой мыши имя только что созданного веб-приложения и выберите **Настроить источник развертывания**.

    ![Команда настройки источника развертывания для веб-приложения](media/deploy-azure/configure-deployment-source.png)

1. При появлении запроса выберите **LocalGit**.

1. Если вы развертываете приложение в Службе приложений в Windows, потребуется создать два параметра перед развертыванием.

    1. В VS Code разверните узел для новой службы приложений, щелкните правой кнопкой мыши **Параметры приложения** и выберите **Добавить новый параметр**.

        ![Команда добавления параметра приложения](media/deploy-azure/add-setting.png)

    1. Введите `WEBSITE_NODE_DEFAULT_VERSION` для ключа параметра и `10.15.2` в качестве значения параметра. Этот параметр позволяет задать версию Node.js.
    1. Повторите эту процедуру, чтобы создать ключ для `SCM_DO_BUILD_DURING_DEPLOYMENT` со значением `1`. Этот параметр позволяет принудительно запустить `npm install` на сервере при развертывании.
    1. Разверните узел **Параметры приложения**, чтобы проверить, установлены ли параметры.

1. Щелкните значок с синей стрелкой вверх, чтобы развернуть код в Azure:

    ![Значок "Развернуть в веб-приложении"](media/deploy-azure/deploy.png)

1. Когда будет предложено, выберите папку *expressApp1*, учетную запись **подписки** и имя созданного ранее веб-приложения.

1. При развертывании в Linux нажмите кнопку **Да**, когда появится запрос на обновление конфигурации, чтобы выполнить `npm install` на целевом сервере.

    ![Запрос на обновление конфигурации на целевом сервере Linux](media/deploy-azure/server-build.png)

1. Выберите **Да** при появлении запроса **Всегда развертывать рабочую область nodejs-docs-hello-world в (имя приложения)** . Если выбрать **Да**, VS Code будет в дальнейшем автоматически выполнять развертывания в том же веб-приложении Службы приложений.

1. По завершении развертывания щелкните **Обзор веб-сайта** в диалоговом окне с предложением просмотреть только что развернутое веб-приложение. В браузере должно отобразиться сообщение Hello World!.

1. (Необязательно.) Вы можете внести изменения в файлы кода, а затем снова нажать кнопку развертывания, чтобы обновить веб-приложение.

> [!div class="nextstepaction"]
> [Мой сайт работает в Azure](tutorial-vscode-azure-app-service-node-04.md) [Возникла проблема](https://www.research.net/r/PWZWZ52?tutorial=node-deployment-azureappservice&step=deploy-app)
