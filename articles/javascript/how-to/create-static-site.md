---
title: Создание статических веб-сайтов в Azure с помощью Node.js, API и разметки
description: Как использовать Azure для создания приложения JAMstack (JavaScript, API и разметка)
ms.topic: how-to
ms.date: 08/20/2019
ms.custom: seo-javascript-september2019, devx-track-js
ms.openlocfilehash: 421464b76a8276ef87b84596a6434e991a3c2b25
ms.sourcegitcommit: 801682d3fc9651bf95d44e58574d5a4564be6feb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/06/2020
ms.locfileid: "94333802"
---
# <a name="build-jamstack-static-site-web-apps-on-azure-with-nodejs"></a>Создание веб-приложений JAMstack (статический сайт) в Azure с помощью Node.js

Хорошие веб-приложения могут быть построены и поддерживаться с помощью комбинации внешнего интерфейса *JavaScript* , *API* (сторонних или пользовательских API, созданных в виде бессерверного кода) и шаблонной *разметки* (HTML и CSS), которые служат статическими страницами. С помощью этой комбинации, также известной как JAMstack, можно избежать написания сложного кода серверной части для обслуживания веб-страниц. Вместо этого система обслуживает только статические страницы (HTML, CSS и JavaScript), где эти страницы вызывают интерфейсы API для работы на стороне сервера. Поскольку вы можете писать эти API с автоматическим масштабированием бессерверных технологий, вы полностью избегаете проблем использования типичных постоянно работающих серверов или веб-хостов, связанных с затратами и безопасностью. (Дополнительные сведения см. в разделе [jamstack.org](https://jamstack.org/).)

Для реализации статического сайта или сайта JAMstack в Azure используются разнообразные средства и службы:

- При необходимости настройте базу данных.
- Внедрите бессерверный код API в Функции Azure. Эти API обычно используют базу данных.
- Выберите библиотеки, необходимые для разработки внешнего интерфейса, например Angular. Затем вы передаете эти статические файлы HTML, CSS и JavaScript в хранилище BLOB-объектов Azure, которое предоставляет встроенный веб-сервер.
- Создайте обратный прокси-сервер, чтобы весь трафик прошел через один домен URL-адреса.

Вы можете посмотреть демонстрацию процесса с помощью сеанса //build 2019, [Productive front-end development with JavaScript, Visual Studio Code, and Azure](https://azure.microsoft.com/resources/videos/build-2019-productive-front-end-development-with-javascript-visual-studio-code-and-azure/) (Продуктивная внешняя разработка с использованием JavaScript, кода Visual Studio и Azure).

> [!VIDEO https://medius.studios.ms/Embed/Video-nc/B19-BRK3021?latestplayer=true]

Пошаговое руководство можно найти на странице [Развертывание статического веб-сайта в Azure](../tutorial-vscode-static-website-node-01.md).

В следующих статьях также описаны дополнительные сведения:

- **Базы данных** : вы можете использовать любую базу данных, например различные службы баз данных в Azure, описанные в статье [Интеграция базы данных Azure в приложения Node.js](integrate-database.md).
  
- **Бессерверные API** :

  - Начните с [создания функции в Azure с помощью Visual Studio Code](../tutorial/tutorial-vscode-serverless-node-install.md), где вы ознакомитесь с Функциями Azure в контексте Visual Studio Code, что упрощает многие детали.
  - По завершении работы с этой статьей вы получите проект Функций Azure (папка), который содержит подпапку, с именем для функции, которое совпадает с конечной точкой HTTP. Эта папка функции содержит файл *index.js* с кодом.
  - Эту функцию можно изменить по мере необходимости, добавить в проект дополнительные функции, а затем повторно развернуть их в Azure, где они являются общедоступными.
  - Дополнительные ресурсы по разработке бессерверных приложений см. в статье [Как записывать бессерверный код Node.js в Azure](develop-serverless-apps.md)

- **Развертывание внешнего интерфейса в службе хранилища Azure** : с помощью API-интерфейсов теперь можно написать код серверной части для использования этих API-интерфейсов, используя любую платформу. Когда вы будете готовы, следуйте указаниям в этой статье, [Учебник: Размещение статического веб-сайта в хранилище BLOB-объектов](/azure/storage/blobs/storage-blob-static-website-host), чтобы передать эти файлы в Azure и включить размещение статических веб-сайтов.

- **Создание обратного прокси-сервера** : Обратный прокси-сервер, как описано в разделе [Работа с функцией "Прокси-серверы Функций Azure"](/azure/azure-functions/functions-proxies), позволяет легко перенаправлять определенные запросы на разные URL-адреса. В этом случае необходимо направить запросы к файлам переднего плана в URL-адрес службы хранилища Azure, где развернуты эти файлы, а запросы API на URL-адрес функций Azure.

  - Чтобы создать эти прокси, отредактируйте файл *proxies.json* в своем проекте функций так, чтобы он выглядел как показано ниже, заменив ваши URL-адреса для `<storage_url>` и `<api_url>`:
  
    ```json
    {
      "$schema": "http://json.schemastore.org/proxies",
      "proxies": {
        "Static frontend on Azure Storage": {
          "matchCondition": {
            "route": "/{*restOfPath}"
          },
          "backendUri": "<storage_url>/{restOfPath}"
        },
        "Azure Functions API": {
          "matchCondition": {
            "route": "/api/{*restOfPath}"
          },
          "backendUri": "<api_url>/api/{restOfPath}"
        }
      }
    }
    ```
