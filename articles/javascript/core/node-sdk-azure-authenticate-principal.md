---
title: Создание субъекта-службы Azure с помощью Node.js
description: Узнайте, как использовать проверку подлинности субъекта-службы в Azure с помощью Node.js и JavaScript.
ms.topic: how-to
ms.date: 11/05/2020
ms.custom: devx-track-js, devx-track-azurecli
ms.openlocfilehash: e837ca7f83f115a9d7c2bbe34e46d884a02dffe0
ms.sourcegitcommit: dc74b60217abce66fe6cc93923e869e63ac86a8f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2020
ms.locfileid: "94872775"
---
# <a name="create-an-azure-service-principal-for-nodejs"></a>Создание субъекта-службы Azure для Node.js

Если у вас есть приложение, которому нужно предоставить доступ к ресурсам, вы можете настроить для такого приложения удостоверение и выполнить для него аутентификацию с помощью собственных учетных данных. Такое удостоверение называется *субъект-служба*. По сути, вы создаете ключи для учетной записи Azure Active Directory, которые затем предоставляете пакету SDK для аутентификации. При этом пользователю не нужно вводить имя пользователя и пароль.

Использование субъекта-службы позволяет выполнять следующие задачи.
- Назначить удостоверению приложения разрешения, которые отличаются от ваших разрешений. Как правило, приложение получает именно те разрешения, которые требуются для его работы.
- Использовать сертификат для аутентификации при выполнении автоматического скрипта.

В этой статье описано три способа создания субъекта-службы.

- Портал Azure
- Azure CLI 2.0

[!INCLUDE [chrome-note](../includes/chrome-note.md)]

## <a name="create-a-service-principal-using-the-azure-cli-20"></a>Создание субъекта-службы с помощью Azure CLI 2.0

Чтобы выполнить дальнейшие действия, [установите Azure CLI](/cli/azure/install-azure-cli) и [войдите в Azure](/cli/azure/authenticate-azure-cli). 

1. Получите свою подписку и идентификатор арендатора с помощью команды `az account list`. Эти данные понадобятся вам при работе с любыми пакетами Azure. Ниже приведен пример выходных данных этой команды:

    ```shell
    {
    "cloudName": "AzureCloud",
    "id": "<subscriptionId>",
    "isDefault": true,
    "name": "<subscriptionName>",
    "registeredProviders": [],
    "state": "Enabled",
    "tenantId": "<tenantId>",
        "user": {
            "name": "hello@example.com",
            "type": "user"
        }
    }
    ```

1. Выполните действия, описанные в статье [Создание субъекта-службы Azure с помощью Azure CLI](/cli/azure/create-an-azure-service-principal-azure-cli), чтобы создать субъект-службу. Объект JSON в выходных данных будет содержать сведения, требуемые для аутентификации в Azure.

## <a name="using-the-service-principal"></a>Использование субъекта-службы

После создания субъекта-службы вы можете сделать следующее:

1. Выполните программными средствами аутентификацию в Azure с использованием субъекта-службы и сертификата, переменных среды или файла `.json`. 
1. Создайте ресурсы Azure с помощью субъекта-службы и используйте службу.

Выполните действия, отписанные в статье [Проверка подлинности с использованием модулей управления Azure для JavaScript](./node-sdk-azure-authenticate.md), чтобы создать объект учетных данных, который можно использовать для аутентификации клиента с помощью Azure Active Directory.
