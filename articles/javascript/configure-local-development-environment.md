---
title: Настройка локальной среды JavaScript для разработки в Azure
description: Сведения о настройке локальной среды разработки JavaScript для работы с Azure, включая редактор, библиотеки Azure SDK, дополнительные средства и необходимые учетные данные для аутентификации библиотек.
ms.date: 09/30/2020
ms.topic: conceptual
ms.custom: devx-track-js, azure-sdk-ai-text-analytics-5.0.0
ms.openlocfilehash: baf9634395d4e0ad7225abb9bebddfa1aa14fe6d
ms.sourcegitcommit: 8fcb6c2d17be63064090f801f46c9c754821f979
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2020
ms.locfileid: "91805945"
---
# <a name="configure-your-local-javascript-dev-environment-for-azure"></a>Настройка локальной среды разработки JavaScript для Azure

При создании облачных приложений разработчики обычно предпочитают тестировать код на локальных рабочих станциях до его развертывания в облачной среде, такой как Azure. Локальная разработка позволяет использовать более широкий ряд инструментов и знакомую среду разработки.

В этой статье приведены инструкции по настройке для создания и проверки локальной среды разработки, которая подходит для использования JavaScript в Azure.

## <a name="one-time-subscription-creation"></a>Разовый процесс создания подписки

Ресурсы Azure создаются в подписке, которая является единицей выставления счетов при использовании Azure. Хотя вы можете создавать бесплатные ресурсы (каждая подписка предлагает бесплатный ресурс для большинства служб), вам нужно будет создать ресурсы платного уровня, если вы планируете развертывать ресурсы в рабочей среде.

|Тип|Описание|
|--|--|
|[Пробная подписка](https://azure.microsoft.com/free/cognitive-services)|Создайте _бесплатную_ пробную подписку.|
|[Существующая подписка](https://portal.azure.com)|Если у вас уже есть подписка, получите доступ к существующей подписке с помощью портала Azure, Azure CLI или JavaScript.|
|[Несколько подписок](/azure/governance/management-groups/create-management-group-javascript)|Если вам нужно управлять несколькими подписками, узнайте, как создать группу управления с помощью JavaScript.|

## <a name="one-time-installation"></a>Однократная установка

Для разработки с использованием ресурсов Azure с JavaScript на локальной рабочей станции вам требуется однократно установить следующие компоненты:

|Имя или установщик|Описание|
|--|--|
|[Node.js](https://www.npmjs.com/)|Установите последнюю версию среды выполнения с долгосрочной поддержкой (LTS) для разработки на локальной рабочей станции. |
| NPM (устанавливается с последними версиями Node.js) или [Yarn](https://yarnpkg.com/).|Диспетчер пакетов для установки библиотек Azure SDK.|
|[Visual Studio Code](https://code.visualstudio.com/)| Хотя Visual Studio Code обеспечивает интеграцию с JavaScript и предоставляет все необходимое для написания кода, устанавливать именно это решение необязательно. Вы можете использовать любой удобный редактор кода. Если вы используете другой редактор, для работы с этим руководством проверьте наличие интеграции с Azure или используйте Azure CLI.|
|[Azure CLI](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli?view=azure-cli-latest)|Azure CLI можно использовать для создания ресурсов Azure и управления ими из командной строки, терминала или оболочки Bash.|

> [!CAUTION]
> Если вы планируете использовать ресурс Azure в качестве среды выполнения для своего кода, например веб-приложения Azure или экземпляра контейнера Azure, убедитесь, что ваша локальная среда разработки Node.js соответствует среде выполнения ресурсов Azure, которую вы планируете использовать.

### <a name="optional-local-installations"></a>Дополнительные локальные установки

Следующие необязательные общие установки рабочей станции можно использовать для выполнения задач локальной разработки.

|Имя или установщик|Описание|
|--|--|
| [git](https://git-scm.com/downloads) | Средства командной строки для системы управления версиями. При желании вы можете использовать другие средства системы управления версиями. |

## <a name="one-time-configuration-of-service-principal"></a>Однократная настройка субъекта-службы

Каждая служба Azure имеет механизм аутентификации. Это может быть реализовано с помощью ключей и конечных точек, строк подключений, а также других механизмов. Чтобы обеспечить соответствие рекомендациям, создайте ресурсы и обеспечьте выполнение аутентификации в них с помощью [субъекта-службы](node-sdk-azure-authenticate-principal.md). Субъект-служба позволяет точно определить область доступа для немедленных нужд разработки.

Действия по **созданию субъекта-службы**: 

1. Войдите в Azure с помощью учетной записи отдельного пользователя.
1. Создайте _именованный_ субъект-службу с определенной областью. Так как для работы с большинством кратких руководств вам нужно создать ресурс Azure, субъект-служба должен иметь возможность создавать ресурсы.
1. Выйдите из учетной записи отдельного пользователя в Azure.

Действия по **использованию субъекта-службы**:

1. Выполните программными средствами аутентификацию в Azure с использованием субъекта-службы и сертификата, переменных среды или файла `.json`. 
1. Создайте ресурсы Azure с помощью субъекта-службы и используйте службу.

См. сведения о [создании субъекта-службы](node-sdk-azure-authenticate-principal.md). Не забудьте сохранить ответ, полученный на этапе создания. Для использования этого субъекта-службы вам потребуются значения `appId`, `tenant` и `password` ответа.

[Создание ресурса Azure с помощью субъекта-службы](/cli/azure/create-an-azure-service-principal-azure-cli#create-a-resource-using-service-principal)

## <a name="steps-for-each-new-development-project-setup"></a>Шаги для каждой новой настройки проекта разработки

[Библиотеки Azure SDK](azure-sdk-library-package-index.md) предоставляются для каждой службы отдельно. Каждая библиотека устанавливается в зависимости от службы Azure, которую необходимо использовать.

Для каждого нового проекта, использующего Azure, необходимо сделать следующее:
- Создайте ресурсы Azure и сохраните связанные ключи или конфигурацию в [безопасном расположении]().
- Установить библиотеки Azure SDK из NPM или Yarn. 
- Используйте субъект-службу для аутентификации в пакетах Azure SDK, а затем используйте сведения о конфигурации для получения доступа к конкретным службам.

## <a name="securing-configuration-information"></a>Защита сведений о конфигурации

Существует несколько способов хранения сведений о конфигурации:
- [Dotenv](https://www.npmjs.com/package/dotenv) — популярный пакет npm для считывания переменных среды из файла `.env`. Обязательно добавьте файл `.env` к файлу `.gitignore`, чтобы файл `.env` не синхронизировался с системой управления версиями.
- Azure [Key Vault](https://docs.microsoft.com/azure/key-vault/) используется для создания и обслуживания ключей, используемых для получения доступа к облачным ресурсам, приложениям и решениям, а также их шифрования.

### <a name="create-environment-variables-for-the-azure-libraries"></a>Создание переменных среды для библиотек Azure

Чтобы использовать параметры Azure, которые требуются библиотекам Azure SDK для получения доступа к облаку Azure, задайте переменным среды распространенные значения. Следующие команды задают переменные среды на локальной рабочей станции. Еще один распространенный механизм — использовать пакет NPM `DOTENV` для создания файла `.env` для этих параметров. Если вы планируете использовать файл `.env`, убедитесь, что он не синхронизируется с системой управления версиями. Стандартным способом обеспечения синхронизации этих параметров с системой управления версиями является добавление файла `.env` в файл Git `.ignore`.

В следующих примерах идентификатор клиента является также идентификатором субъекта-службы и секретом субъекта-службы.

# <a name="bash"></a>[bash](#tab/bash)

```bash
AZURE_SUBSCRIPTION_ID="aa11bb33-cc77-dd88-ee99-0918273645aa"
AZURE_TENANT_ID="00112233-7777-8888-9999-aabbccddeeff"
AZURE_CLIENT_ID="12345678-1111-2222-3333-1234567890ab"
AZURE_CLIENT_SECRET="abcdef00-4444-5555-6666-1234567890ab"
```

# <a name="cmd"></a>[cmd](#tab/cmd)

```cmd
set AZURE_SUBSCRIPTION_ID="aa11bb33-cc77-dd88-ee99-0918273645aa"
set AZURE_TENANT_ID=00112233-7777-8888-9999-aabbccddeeff
set AZURE_CLIENT_ID=12345678-1111-2222-3333-1234567890ab
set AZURE_CLIENT_SECRET=abcdef00-4444-5555-6666-1234567890ab
```

---

Замените приведенные в этих командах значения теми, которые относятся к конкретной субъект-службе.

## <a name="install-npm-packages"></a>Установка пакетов npm

Для каждого проекта рекомендуется всегда создавать отдельную папку и собственный файл `package.json`, выполняя указанные ниже действия:

1. Откройте терминал, командную строку или оболочку Bash и создайте папку для проекта. Затем перейдите в эту папку.

    ```console
    mkdir MY-NEW-PROJECT && cd MY-NEW-PROJECT
    ```

1. Инициализируйте файл пакета:

    ```console
    npm init -y
    ```

    Эта команда выполняет команду NPM для создания файла package.json и инициализации минимальных свойств. При установке пакетов библиотеки Azure SDK с помощью NPM или Yarn в файле package.json будут сохранены эти данные об установке.

1. Установите библиотеки Azure SDK, которые потребуются вам для работы с кратким руководством. Ниже приведен пример команды.

    ```console
    npm install @azure/ai-text-analytics@5.0.0
    ```

## <a name="use-source-control"></a>Использование системы управления версиями

Мы рекомендуем всегда создавать репозиторий системы управления версиями при каждом запуске проекта. Если вы установили Git, выполните следующую команду:

```bash
git init
```

Здесь можно выполнять такие команды, как `git add` и `git commit`, чтобы фиксировать изменения. Регулярно фиксируя изменения, вы создаете журнал фиксаций, с помощью которого можно вернуться к любому предыдущему состоянию.

Чтобы выполнить оперативное резервное копирование проекта, мы также рекомендуем отправить репозиторий в [GitHub](https://github.com) или [Azure DevOps](/azure/devops/user-guide/code-with-git?view=azure-devops). Если сначала вы инициализируете локальный репозиторий, используйте `git remote add`, чтобы подключить локальный репозиторий к GitHub или Azure DevOps.

Документацию по Git можно найти по адресу [git-scm.com/docs](https://git-scm.com/docs) и в Интернете.

Visual Studio Code включает ряд встроенных функций Git. Дополнительные сведения в см. в статье [Использование системы управления версиями в VS Code](https://code.visualstudio.com/docs/editor/versioncontrol).

Вы также можете использовать любую другую систему управления версиями по своему усмотрению. Git — это просто одна из самых широко используемых и поддерживаемых систем.

## <a name="next-steps"></a>Дальнейшие действия

* [Создание и использование субъекта-службы](node-sdk-azure-authenticate-principal.md)
* [Аутентификация с использованием модулей Azure для Node.js](node-sdk-azure-authenticate.md)
* [Развертывание статического веб-сайта в Azure из Visual Studio Code](tutorial-vscode-static-website-node-01.md)