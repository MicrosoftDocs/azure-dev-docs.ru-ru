---
title: Руководство. Общие сведения о тестировании Terraform
description: Узнайте о различных вариантах тестирования, которые можно настроить для проверки проектов Terraform.
ms.topic: overview
ms.date: 07/31/2020
ms.openlocfilehash: e32d8f6c71045392b016699fa63d790995918201
ms.sourcegitcommit: e451e4360d9c5956cc6a50880b3a7a55aa4efd2f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/31/2020
ms.locfileid: "87507074"
---
# <a name="tutorial-terraform-testing-overview"></a>Руководство по Общие сведения о тестировании Terraform

[!INCLUDE [terraform-intro.md](includes/terraform-intro.md)]

Terraform — это инструмент в формате "инфраструктура как код" (IaC). Это означает, что файлы Terraform и других инструментов такого формата обрабатываются как исходный код проекта. В частности, к ним применяются управление версиями и управление исходным кодом. Кроме того, частью процесса также должно быть тестирование. В этой статье приводятся общие сведения о разных типах тестов, которые можно выполнять для проекта Terraform.

[!INCLUDE [hashicorp-support.md](includes/hashicorp-support.md)]

## <a name="integration-testing"></a>Интеграционное тестирование

Интеграционное тестирование позволяет проверить, не нарушается ли существующий код внесенными изменениями. Непрерывной интеграцией (CI) в DevOps называется процесс, который обеспечивает автоматическую компиляцию всей системы при каждом изменении базы кода, например при отправке любого запроса на вытягивание в репозиторий Git. В следующем списке приведены распространенные примеры интеграционных тестов.

- Средства статического анализа кода, такие как Lint и Format.
- Выполните команду [terraform validate](https://www.terraform.io/docs/commands/validate.html), чтобы проверить синтаксис файлов конфигурации.
- Выполните команду [terraform plan](https://www.terraform.io/docs/commands/validate.html), чтобы проверить, работает ли конфигурация должным образом.

> [!div class="nextstepaction"]
> [Дополнительные сведения об интеграционных тестах](best-practices-integration-testing.md)

## <a name="unit-testing"></a>Модульное тестирование

Модульные тесты позволяют проверить правильность поведения определенной части или функции программы. Такие тесты пишет разработчик соответствующей функции. Такой подход иногда называют разработкой на основе тестирования (TDD), и этот тип тестирования предусматривает короткие циклы непрерывной разработки. В контексте проектов Terraform модульное тестирование можно реализовать через `terraform plan`, чтобы проверять совпадение фактических значений в каждом созданном плане с ожидаемыми значениями. 

Модульное тестирование становится все более полезным по мере роста сложности модулей Terraform, например при добавлении следующих механизмов:

- создание динамических блоков;
- использование циклов;
- вычисление локальных переменных.

Как и с интеграционными тестами, модульные тесты зачастую включаются в процесс непрерывной интеграции.

## <a name="compliance-testing"></a>Тестирование соответствия

Тестирование соответствия позволяет убедиться, что конфигурация соответствует некоторым политикам, которые вы определили для проекта. Например, вы можете определить геополитические соглашения об именовании для ресурсов Azure. Также можно указать, что виртуальные машины должны создаваться только на основе определенного подмножества образов. Для применения таких правил будет использоваться тестирование соответствия.

Тестирование соответствия также обычно включается в процесс непрерывной интеграции.

> [!div class="nextstepaction"]
> [Дополнительные сведения о тестировании соответствия](best-practices-compliance-testing.md)

## <a name="end-to-end-e2e-testing"></a>Комплексное тестирование (E2E)

Тесты E2E позволяют проверить работу программы перед развертыванием в рабочей среде. Предположим, ваш модуль Terraform должен развертывать две виртуальные машины в виртуальной сети. Вы можете сделать так, чтобы эти виртуальные машины не могли проверять связь друг с другом. В этом сценарии можно определить тест для проверки требуемого результата перед развертыванием.

Тестирование E2E обычно состоит из трех этапов. Во-первых, конфигурация применяется к тестовой среде. Затем выполняется код для проверки результатов. И наконец, тестовая среда инициализируется заново или удаляется (например, отменяется выделение виртуальной машины).

> [!div class="nextstepaction"]
> [Дополнительные сведения о комплексном тестировании](best-practices-end-to-end-testing.md)