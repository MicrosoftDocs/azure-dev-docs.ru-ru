---
author: mikeparker104
ms.author: miparker
ms.date: 07/27/2020
ms.service: mobile-services
ms.topic: include
ms.openlocfilehash: a0b7faea4c122012ddb296af339ff95ef6f41353
ms.sourcegitcommit: cf23d382eee2431a3958b1c87c897b270587bde0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/29/2020
ms.locfileid: "87401655"
---
#### <a name="no-response-from-the-backend-service"></a>Нет ответа от внутренней службы

При локальном тестировании убедитесь, что внутренняя служба запущена и использует правильный порт.

Если вы тестируете **приложение API Azure**, убедитесь, что служба успешно развернута, запущена и не возвращает ошибок.

Обязательно проверьте правильность базового адреса в конфигурации средства **[Postman](https://www.postman.com/downloads)** или мобильного приложения, если выполняете тестирование через клиент. Базовый адрес при локальном тестировании должен иметь вид `https://<api_name>.azurewebsites.net/` или `https://localhost:5001/`.

#### <a name="not-receiving-notifications-on-android-after-starting-or-stopping-a-debug-session"></a>Отсутствие уведомлений на Android после запуска или остановки сеанса отладки

Убедитесь, что вы повторили процесс регистрации после запуска или остановки сеанса отладки. Тогда отладчик запросит создание нового маркера **Firebase**. Также необходимо обновить установку центра уведомлений.

#### <a name="receiving-a-401-status-code-from-the-backend-service"></a>Получение кода состояния 401 от внутренней службы

Убедитесь, что вы указали заголовок запроса **apikey** и его значение совпадает с настроенным для внутренней службы.

Если эта ошибка возникает при локальном тестировании, убедитесь, что значение ключа в конфигурации клиента совпадает со значением **Authentication:ApiKey** для пользователя, которое используется в [API](#create-the-api-app).

Если тестирование выполняется через **приложение API**, убедитесь, что значение ключа в файле конфигурации клиента совпадает со значением **Authentication:ApiKey** для приложения, которое используется в [приложении API](#create-the-api-app).

> [!NOTE]
> Если вы создали или изменили это значение после развертывания внутренней службы, необходимо перезапустить службу, чтобы изменения вступили в силу.

Если вы решили не выполнять инструкции в разделе об [аутентификации клиентов с помощью ключа API](#authenticate-clients-using-an-api-key-optional), убедитесь, что атрибут **Authorize** не применяется к классу **NotificationsController**.

#### <a name="receiving-a-404-status-code-from-the-backend-service"></a>Получение кода состояния 404 от внутренней службы

Проверьте правильность значений для конечной точки и метода HTTP-запроса. Например, конечные точки могут иметь следующие значения:

- **[PUT]** `https://<api_name>.azurewebsites.net/api/notifications/installations`;
- **[DELETE]** `https://<api_name>.azurewebsites.net/api/notifications/installations/<installation_id>`;
- **[POST]** `https://<api_name>.azurewebsites.net/api/notifications/requests`.

Или при локальном тестировании:

- **[PUT]** `https://localhost:5001/api/notifications/installations`;
- **[DELETE]** `https://localhost:5001/api/notifications/installations/<installation_id>`;
- **[POST]** `https://localhost:5001/api/notifications/requests`.

Если в клиентском приложении вы указываете базовый адрес, убедитесь, что он заканчивается символом `/`. Базовый адрес при локальном тестировании должен иметь вид `https://<api_name>.azurewebsites.net/` или `https://localhost:5001/`.

#### <a name="unable-to-register-and-a-notification-hub-error-message-is-displayed"></a>Не удается зарегистрироваться и отображается сообщение об ошибке центра уведомлений

Убедитесь, что для устройство установлено сетевое подключение. Затем определите код состояния HTTP-ответа, установив точку останова для проверки значения свойства **StatusCode** в ответе **HttpResponse**.

Ознакомьтесь с предыдущими предложениями по устранению неполадок, насколько они применимы к полученному коду состояния.

Установите точку останова на строках, которые возвращают эти коды состояния в соответствующем API. После этого попробуйте вызвать серверную службу из локального сеанса отладки.

Убедитесь, что серверная служба работает правильно с помощью средства **[Postman](https://www.postman.com/downloads)** , предоставив подходящие полезные данные. Используйте реальные полезные данные, которые создает клиентский код для соответствующей платформы.

Проверьте разделы конфигурации, относящиеся к этой платформе, и убедитесь, что ни один шаг не упущен. Убедитесь, что для переменных `installation id` и `token` разрешаются подходящие значения для соответствующей платформы.

#### <a name="unable-to-resolve-an-id-for-the-device-error-message-is-displayed"></a>Отображается сообщение о том, что не удается разрешить идентификатор устройства

Проверьте разделы конфигурации, относящиеся к этой платформе, и убедитесь, что ни один шаг не упущен.
